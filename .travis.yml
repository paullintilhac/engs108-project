language: python
python:
    - 3.6

install:
    - pip install virtualenv
    - virtualenv -p python3 venv
    - deactivate
    - source venv/bin/activate
    - sudo apt update
    - sudo apt install -y --no-install-recommends libopenmpi-dev
    - pip install numpy==1.16.4
    - pip install pandas==1.0.3
    - pip install stockstats
    - pip install scikit-learn==0.21.0
    - pip install gym==0.15.3
    - pip install stable-baselines[mpi]
    - pip install tensorflow==1.15.4
    - pip install joblib==0.15.1
    # plot
    - pip install matplotlib==3.2.1
    # testing requirements
    - pip install pytest>=5.3.2,<6.0.0
    # packaging
    - pip install setuptools>=41.4.0,<42.0.0 
    - pip install wheel>=0.33.6,<0.34.0


script:
    - python3 run_DRL.py -T 20160601 --small
  

# after_success:
#     -

# This reportedly works around an issue downloading packages from pypi on
# travis.  Consider removing this after the underlying issue is fixed.
# https://github.com/travis-ci/travis-ci/issues/2389
sudo: false

matrix:
    fast_finish: true
